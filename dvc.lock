schema: '2.0'
stages:
  data-split:
    cmd: python3 src/data_split.py
    deps:
    - path: data/train.csv
      md5: 791e42335500c447273a7dc85f58239e
      size: 68802655
    - path: src/data_split.py
      md5: 054a1dddaf91131d5c890907513b6fd7
      size: 1102
    outs:
    - path: data/processed_data/x_test.npy
      md5: 297d701ee718de8f6d937797c70a78e5
      size: 12987088
    - path: data/processed_data/x_train.npy
      md5: 7eec7ac8791fba43cc41c5c477f7b92e
      size: 33512228
    - path: data/processed_data/y_test.npy
      md5: fb3f6fa921623491317d186fc25ba885
      size: 3582896
    - path: data/processed_data/y_train.npy
      md5: f001603922830fd2faee2fea019c904e
      size: 8936104
  data-preprocess:
    cmd: python3 src/data_preprocess.py
    deps:
    - path: data/processed_data/x_test.npy
      md5: 297d701ee718de8f6d937797c70a78e5
      size: 12987088
    - path: data/processed_data/x_train.npy
      md5: 7eec7ac8791fba43cc41c5c477f7b92e
      size: 33512228
    - path: src/data_preprocess.py
      md5: 9c7656f48f5ea0bd8fb43c140a4a0b06
      size: 2623
    outs:
    - path: data/embedding_matrix.npy
      md5: 1ef6f72edd0a0aa37b7bd8337c506897
      size: 358444928
    - path: models/tokenizer.pkl
      md5: 74d403be9ec92949374f14c773a50cc3
      size: 6627669
  model-training:
    cmd: python3 src/model_training.py
    deps:
    - path: data/embedding_matrix.npy
      md5: f4ebb01298a6d86e89f6515cccd15355
      size: 358444928
    - path: src/model_training.py
      md5: d570b0a693c24cfc4e397de8836531ff
      size: 3872
    outs:
    - path: auc.jpg
      md5: 8a0e69140538d574464b114e08d7fd3e
      size: 22713
    - path: loss.jpg
      md5: 63220b561e8bf201eada4767acc3efd4
      size: 18999
    - path: models/toxicity_classifier.h5
      md5: debebeb8cace670f754955063c66f267
      size: 180612432
  model-evaluation:
    cmd: python3 src/model_evaluation.py
    deps:
    - path: data/processed_data/x_test.npy
      md5: 297d701ee718de8f6d937797c70a78e5
      size: 12987088
    - path: data/processed_data/y_test.npy
      md5: fb3f6fa921623491317d186fc25ba885
      size: 3582896
    - path: models/toxicity_classifier.h5
      md5: debebeb8cace670f754955063c66f267
      size: 180612432
    - path: src/model_evaluation.py
      md5: a468ce9309c8ce77ca5cff7a896c5c77
      size: 682
    outs:
    - path: scores.json
      md5: 1fb4ff6d34c2580fc745e831c7759a65
      size: 33

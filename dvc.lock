schema: '2.0'
stages:
  data-split:
    cmd: python3 src/data_split.py
    deps:
    - path: data/train.csv
      md5: 791e42335500c447273a7dc85f58239e
      size: 68802655
    - path: src/data_split.py
      md5: 054a1dddaf91131d5c890907513b6fd7
      size: 1102
    outs:
    - path: data/processed_data/x_test.npy
      md5: 297d701ee718de8f6d937797c70a78e5
      size: 12987088
    - path: data/processed_data/x_train.npy
      md5: 7eec7ac8791fba43cc41c5c477f7b92e
      size: 33512228
    - path: data/processed_data/y_test.npy
      md5: fb3f6fa921623491317d186fc25ba885
      size: 3582896
    - path: data/processed_data/y_train.npy
      md5: f001603922830fd2faee2fea019c904e
      size: 8936104
  data-preprocess:
    cmd: python3 src/data_preprocess.py
    deps:
    - path: data/processed_data/x_test.npy
      md5: 297d701ee718de8f6d937797c70a78e5
      size: 12987088
    - path: data/processed_data/x_train.npy
      md5: 7eec7ac8791fba43cc41c5c477f7b92e
      size: 33512228
    - path: src/data_preprocess.py
      md5: 56b740d2a420fb42ee443b385095eb34
      size: 2518
    outs:
    - path: data/embedding_matrix.npy
      md5: c36ede684eccf51dde823d1063851ea6
      size: 358444928
    - path: data/processed_data/x_train_tokens.npy
      md5: 744baafdd25f3eb1524eec088184a648
      size: 95742728
    - path: data/word_index.txt
      md5: 0afb13a09f8aa1330db7709b7f97431a
      size: 6
    - path: models/tokenizer.pkl
      md5: 7da8443a755ef95517d17af6941c6d2f
      size: 6627667
  model-training:
    cmd: python3 src/model_training.py
    deps:
    - path: data/embedding_matrix.npy
      md5: c36ede684eccf51dde823d1063851ea6
      size: 358444928
    - path: src/model_training.py
      md5: 50f28d3c60bbb7c3d832188198d1de50
      size: 3693
    outs:
    - path: auc.jpg
      md5: 96817cb328f734421c3bde0596abef7c
      size: 22064
    - path: loss.jpg
      md5: ecf0651f775102caa9652682ceaef714
      size: 20070
    - path: models/toxicity_classifier.h5
      md5: 3d15e1386b477e6c40e75dbde434580c
      size: 180612432
  model-evaluation:
    cmd: python3 src/model_evaluation.py
    deps:
    - path: data/processed_data/x_test.npy
      md5: 297d701ee718de8f6d937797c70a78e5
      size: 12987088
    - path: data/processed_data/y_test.npy
      md5: fb3f6fa921623491317d186fc25ba885
      size: 3582896
    - path: models/toxicity_classifier.h5
      md5: 3d15e1386b477e6c40e75dbde434580c
      size: 180612432
    - path: src/model_evaluation.py
      md5: 78440b34bc10dc7f20b0b8bc4fcd00c9
      size: 751
    outs:
    - path: scores.json
      md5: f905ce9196167951bf9a0ab310afa309
      size: 33
